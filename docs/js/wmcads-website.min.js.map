{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/www/_partials/component-example/_component-example.js","webpack:///./src/www/wmcads-website.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","megaMenus","mobileMenu","ajax","window","addEventListener","XMLHttpRequest","open","send","onload","div","document","createElement","style","display","innerHTML","responseText","body","insertBefore","childNodes","querySelectorAll","matchMedia","forEach","menu","handleMobileMenu","mq","matches","mobileToggle","querySelector","headerEl","parentNode","topLevelMenuBtn","mobileMenuIsOpen","primary","classList","add","remove","menuBtn","targetListItem","focus","collapseMenus","collapseToggle","panel","nextElementSibling","toggle","maxHeight","scrollHeight","addListener","topLevelLinks","topLevelLink","topLevelLinkIndex","topLevelListItem","tagName","subMenuLinks","length","subMenu","clearActiveListItems","menuItem","setMenuActive","active","focusLink","getMenuLink","currentIndex","array","direction","menuLink","e","stopPropagation","openSubMenu","preventDefault","getAttribute","prevLink","nextLink","handleKeydown","keyCode","menuArray","menuIndex","thisListLinks","push","link","linkIndex","nextMenuLink","prevMenuLink","prevMenu","hljs","element","highlightBlock","clientHeight","contains","parentElement","insertAdjacentHTML","displayShowMore","ele","showMore","btn","target","srcElement","previousSibling","innerText","showCode"],"mappings":"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","file":"wmcads-website.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","function showCode(ele) {\n  // for each button we create below\n  function showMore(e) {\n    const btn = e.target || e.srcElement; // Set btn to the element from which the click came\n\n    // if the btn clicked contains this class, then it must be active, so reset it back to the norm\n    if (btn.classList.contains('wmcads-js-show-code--active')) {\n      btn.previousSibling.querySelector('.hljs').style.maxHeight = '200px';\n      btn.classList.remove('wmcads-js-show-code--active');\n      btn.innerText = 'Show more code';\n    } else {\n      // Else expand the code preview to 100%\n      btn.previousSibling.querySelector('.hljs').style.maxHeight = '100%';\n      btn.classList.add('wmcads-js-show-code--active');\n      btn.innerText = 'Show less code';\n    }\n  }\n\n  // when clicked\n  ele.addEventListener('click', e => {\n    e.preventDefault();\n    showMore(e);\n  });\n\n  // When keyboard \"enter\" pressed\n  ele.addEventListener('keydown', e => {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      showMore(e);\n    }\n  });\n}\n\nexport { showCode };\n\nconst displayShowMore = element => {\n  // If the code preview is 192 height (without padding) then we need to display the 'show more code' button\n  if (element.clientHeight >= 192 && !element.classList.contains('wmcads-show-more-ignore')) {\n    const htmlString = '<a href=\"#\" class=\"wmcads-link wmcads-js-show-code\">Show more code</a>';\n\n    element.parentElement.insertAdjacentHTML('afterend', htmlString);\n  }\n};\n\nexport { displayShowMore };\n\nexport default () => {\n  const { hljs } = window; // declare higlightJS as global var\n  [].forEach.call(document.querySelectorAll('pre code'), element => {\n    // Run highlightJS for each pre code element found */\n    hljs.highlightBlock(element);\n    displayShowMore(element);\n  });\n  [].forEach.call(document.querySelectorAll('.wmcads-js-show-code'), ele => {\n    showCode(ele); // run show code function above when hljs has init\n  });\n};\n","import forEachPolyfill from './assets/vendor/js/polyfills/ie11-forEach';\nimport colorPalettes from './pages/styles/colour-palettes/_color-palettes';\nimport highlight from './_partials/component-example/_component-example';\n\nconst icons = () => {\n  // Ajax SVG in, SVGS are referenced in app (Icon component)\n  const ajax = new XMLHttpRequest();\n  ajax.open('GET', 'https://wmcadigital.github.io/wmca-design-system/img/wmcads-sprite.min.svg', true);\n  ajax.send();\n  ajax.onload = () => {\n    const div = document.createElement('div');\n    div.style.display = 'none';\n    div.innerHTML = ajax.responseText;\n    document.body.insertBefore(div, document.body.childNodes[0]);\n  };\n};\n\nconst headerJs = () => {\n  // get mega menu elements\n  const megaMenus = document.querySelectorAll('.wmcads-mega-menu');\n\n  const mobileMenu = window.matchMedia('(max-width: 767px)');\n\n  [].forEach.call(megaMenus, menu => {\n    // mobile nav function\n    function handleMobileMenu(mq) {\n      if (mq.matches) {\n        const mobileToggle = menu.querySelector('.wmcads-mega-menu__mobile-toggle');\n        const headerEl = menu.parentNode.parentNode;\n\n        const topLevelMenuBtn = menu.querySelectorAll('.wmcads-mega-menu__link-arrow-icon-btn');\n        const mobileMenuIsOpen = { menu: false, primary: false };\n\n        // handle mobile menu toggle\n        mobileToggle.addEventListener('click', () => {\n          mobileMenuIsOpen.menu = !mobileMenuIsOpen.menu;\n          if (mobileMenuIsOpen.menu) {\n            headerEl.classList.add('wmcads-header--mega-menu-open');\n            document.querySelector('html').classList.add('mobile-menu-open');\n          } else {\n            headerEl.classList.remove('wmcads-header--mega-menu-open', 'wmcads-header--mega-menu-submenu-open');\n            document.querySelector('html').classList.remove('mobile-menu-open');\n          }\n        });\n\n        // handle sub menu open/close\n        [].forEach.call(topLevelMenuBtn, menuBtn => {\n          menuBtn.addEventListener('click', () => {\n            mobileMenuIsOpen.primary = !mobileMenuIsOpen.primary;\n            const targetListItem = menuBtn.parentNode;\n            if (mobileMenuIsOpen.primary) {\n              targetListItem.classList.add('open');\n              targetListItem.querySelector('.wmcads-mega-menu__sub-menu-link').focus();\n              headerEl.classList.add('wmcads-header--mega-menu-submenu-open');\n            } else {\n              targetListItem.classList.remove('open');\n              headerEl.classList.remove('wmcads-header--mega-menu-submenu-open');\n            }\n          });\n        });\n\n        // mobile collapse for third level menus\n        const collapseMenus = menu.querySelectorAll(\n          '.wmcads-mega-menu__sub-menu-item .wmcads-mega-menu__collapse-toggle'\n        );\n        [].forEach.call(collapseMenus, collapseToggle => {\n          collapseToggle.addEventListener('click', () => {\n            const panel = collapseToggle.nextElementSibling;\n            collapseToggle.classList.toggle('open');\n            if (panel.style.maxHeight) {\n              panel.style.maxHeight = null;\n            } else {\n              panel.style.maxHeight = `${panel.scrollHeight}px`;\n            }\n          });\n        });\n      }\n    }\n    // end mobile nav function\n\n    // init mobile nav function\n    handleMobileMenu(mobileMenu);\n    mobileMenu.addListener(handleMobileMenu);\n\n    const topLevelLinks = menu.querySelectorAll('.wmcads-mega-menu__primary-menu-link');\n\n    // handle events within each top level list item\n    [].forEach.call(topLevelLinks, (topLevelLink, topLevelLinkIndex) => {\n      // return list item parent of the current link if it exists else return the link\n      const topLevelListItem = topLevelLink.parentNode.tagName === 'LI' ? topLevelLink.parentNode : topLevelLink;\n      const subMenuLinks = topLevelListItem.querySelectorAll('.wmcads-mega-menu__sub-menu-link');\n\n      // check if level 3 menus are present, if so add modifier class\n      const hasSubmenuChildren =\n        topLevelListItem.querySelectorAll('.wmcads-mega-menu__sub-menu-child-menu').length !== 0;\n      if (hasSubmenuChildren) {\n        topLevelListItem.querySelectorAll('.wmcads-mega-menu__sub-menu').forEach(subMenu => {\n          subMenu.classList.add('wmcads-mega-menu__sub-menu--has-child-menus');\n        });\n      }\n\n      const clearActiveListItems = () => {\n        // remove active classes from other list items\n        [].forEach.call(menu.querySelectorAll('.wmcads-mega-menu__primary-menu-item'), menuItem => {\n          menuItem.classList.remove('active');\n        });\n      };\n\n      // handle setting the active class on menu and list items\n      const setMenuActive = (active, focusLink) => {\n        if (active !== false) {\n          menu.classList.add('active');\n          clearActiveListItems();\n          // add active class to current item\n          topLevelListItem.classList.add('active');\n        } else {\n          menu.classList.remove('active');\n          topLevelListItem.classList.remove('active');\n          // set focus on menu close\n          if (focusLink !== false) {\n            topLevelLink.focus();\n          }\n        }\n      };\n\n      // returns a specified menu link from a specified array\n      // currentIndex = index of the link that is currently focused\n      // array = array to move through\n      // direction = next, prev,\n      const getMenuLink = (currentIndex, array, direction) => {\n        let menuLink = null;\n        if (array) {\n          if (direction === 'prev') {\n            // return previous link in specified array if there is one else return null;\n            menuLink = array[currentIndex - 1] ? array[currentIndex - 1] : null;\n          } else if (direction === 'next') {\n            // return next link in specified array if there is one else return null;\n            menuLink = array[currentIndex + 1] ? array[currentIndex + 1] : null;\n          } else {\n            // return link with same index in specified array;\n            menuLink = array[currentIndex] ? array[currentIndex] : array[array.length - 1];\n          }\n        }\n        return menuLink;\n      };\n\n      const handleKeydown = (e, key) => {\n        e.stopPropagation();\n        // if key pressed is enter, space bar or down arrow\n        if (key === 13 || key === 32 || key === 40) {\n          // check if list item has a mega menu\n          const openSubMenu = () => {\n            if (topLevelListItem.querySelectorAll('.wmcads-mega-menu__container').length) {\n              e.preventDefault();\n              // remove keyFocus to allow menu to show\n              setMenuActive(true);\n              // focus first menu item\n              subMenuLinks[0].focus();\n            }\n          };\n          // enter\n          // check if link exists\n          if (key === 13) {\n            if (!topLevelLink.tagName === 'a' || !topLevelLink.getAttribute('href')) {\n              openSubMenu();\n            }\n          } else {\n            openSubMenu();\n          }\n        } else if (key === 37) {\n          // left arrow\n          const prevLink = getMenuLink(topLevelLinkIndex, topLevelLinks, 'prev');\n          if (prevLink) prevLink.focus();\n        } else if (key === 39) {\n          // right arrow\n          const nextLink = getMenuLink(topLevelLinkIndex, topLevelLinks, 'next');\n          if (nextLink) nextLink.focus();\n        } else if (key === 27) {\n          // if escape pressed\n          setMenuActive(false);\n        }\n      };\n\n      // if top level link doesn't have a mega-menu child add class to menu to hide overlay when hovered\n      // has to be added/removed on mouseover to cover menus that have a mix of items with/without mega menus\n      const isTopLevelWithMenu = topLevelListItem.querySelectorAll('.wmcads-mega-menu__container').length;\n\n      if (isTopLevelWithMenu) {\n        topLevelLink.addEventListener('mouseover', () => {\n          setMenuActive();\n        });\n        topLevelListItem.addEventListener('mouseleave', () => {\n          setMenuActive(false, false);\n          clearActiveListItems();\n        });\n\n        // array of mega menu links by column\n        topLevelListItem.addEventListener('blur', setMenuActive(false, false));\n      }\n\n      topLevelListItem.addEventListener('keydown', e => {\n        handleKeydown(e, e.keyCode);\n      });\n      // top lvl link event listeners\n      topLevelLink.addEventListener('mousedown', e => {\n        // prevent link focus on click\n        e.preventDefault();\n        // setMenuActive(false);\n      });\n      // topLevelLink.addEventListener('focus', handleKeyFocus);\n\n      const menuArray = [];\n      [].forEach.call(subMenuLinks, (menuLink, menuIndex) => {\n        const thisList = menuLink.parentNode;\n        const thisListLinks = thisList.querySelectorAll('a');\n        // push list of links to array\n        menuArray.push(thisListLinks);\n\n        [].forEach.call(thisListLinks, (link, linkIndex) => {\n          link.addEventListener('keydown', e => {\n            if (e.keyCode !== 27) {\n              e.stopPropagation();\n              if (e.keyCode === 39) {\n                // right arrow - go to link of same index in next menu list\n                e.preventDefault();\n                const nextMenuLink = getMenuLink(linkIndex, menuArray[menuIndex + 1]);\n                if (nextMenuLink) nextMenuLink.focus();\n              } else if (e.keyCode === 37) {\n                // left arrow - go to link of same index in previous menu list\n                e.preventDefault();\n                const prevMenuLink = getMenuLink(linkIndex, menuArray[menuIndex - 1]);\n                if (prevMenuLink) prevMenuLink.focus();\n              } else if (e.keyCode === 40) {\n                // down arrow - go to next link in current menu list\n                e.preventDefault();\n                // if next link doesn't exist try next menu first item else return null\n                const nextLink = getMenuLink(linkIndex, thisListLinks, 'next')\n                  ? getMenuLink(linkIndex, thisListLinks, 'next')\n                  : getMenuLink(-1, menuArray[menuIndex + 1], 'next');\n                if (nextLink) {\n                  nextLink.focus();\n                } else {\n                  setMenuActive(false);\n                  if (getMenuLink(topLevelLinkIndex, topLevelLinks, 'next')) {\n                    getMenuLink(topLevelLinkIndex, topLevelLinks, 'next').focus();\n                  }\n                }\n              } else if (e.keyCode === 38) {\n                // up arrow - go to previous item in current menu list\n                e.preventDefault();\n                const prevMenu = menuArray[menuIndex - 1];\n                let prevLink = null;\n                if (prevMenu || linkIndex > 0) {\n                  prevLink = getMenuLink(linkIndex, thisListLinks, 'prev')\n                    ? getMenuLink(linkIndex, thisListLinks, 'prev')\n                    : getMenuLink(prevMenu.length, prevMenu, 'prev');\n                }\n                if (prevLink) {\n                  prevLink.focus();\n                } else {\n                  setMenuActive(false);\n                }\n              }\n            }\n          });\n        });\n      });\n    });\n  });\n};\n\nwindow.addEventListener('DOMContentLoaded', (forEachPolyfill, icons(), headerJs(), colorPalettes, highlight));\n"],"sourceRoot":""}